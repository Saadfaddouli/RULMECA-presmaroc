/* Section Réalité du marché — timeline verticale centrale : tags au centre, cartes alternées gauche/droite */

.market-reality-section {
  scroll-margin-top: 0;
}

.timeline_body {
  position: relative;
  background: #fff;
  overflow: visible;
  padding-left: 1rem;
  padding-right: 1rem;
}

@media (min-width: 768px) {
  .timeline_body {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* Conteneur timeline : ligne verticale au centre. direction: ltr = 1re colonne à GAUCHE. */
.bioLine {
  position: relative;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
  direction: ltr;
}

.bioLine::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, hsl(var(--rulmeca-border)) 10%, hsl(var(--rulmeca-border)) 90%, transparent);
  transform: translateX(-50%);
  pointer-events: none;
  z-index: 0;
}

/* Comme hero_codepen_idea : display:table + table-cell = alternance garantie (1ère cellule = gauche, 2e = centre, 3e = droite) */
.bioYear {
  display: table;
  width: 100%;
  table-layout: fixed;
  position: relative;
  z-index: 1;
  min-height: 60vh;
  padding-top: 48px;
  padding-bottom: 48px;
  border-top: 1px dashed transparent;
  overflow: visible;
}

.bioYear:first-child {
  padding-top: 32px;
  border-top: none;
}

.bioYear:last-child {
  padding-bottom: 32px;
}

@media (min-width: 768px) {
  .bioYear {
    min-height: 55vh;
  }
}

/* bioLeft / bioRight = table-cell : 1ère cellule = GAUCHE, 3e = DROITE (ordre du doc) */
.bioYear_slot {
  display: table-cell;
  vertical-align: top;
  min-width: 0;
  box-sizing: border-box;
}

.bioYear_slot--left {
  width: 45%;
  padding-right: 16px;
}

.bioYear_slot--right {
  width: 45%;
  padding-left: 16px;
}

/* Wrapper flex : carte descend un peu sous le tag central + contexte 3D pour zoom hover/scroll */
.bioYear_slot-inner {
  display: flex;
  min-width: 0;
  padding-top: 90px;
  perspective: 1200px;
}

.bioYear_slot-inner--left {
  justify-content: flex-end;
}

.bioYear_slot-inner--right {
  justify-content: flex-start;
}

@media (min-width: 768px) {
  .bioYear_slot--left {
    padding-right: 24px;
  }
  .bioYear_slot--right {
    padding-left: 24px;
  }
}

/* Rail central = 2e cellule (tag au centre), largeur minimale */
.bioYear_rail {
  display: table-cell;
  width: 80px;
  min-width: 80px;
  vertical-align: top;
  position: relative;
  padding-top: 0;
  text-align: center;
}

.bioLine_segment {
  display: none; /* la ligne est sur .bioLine::before */
}

/* Tag central = pilule rouge (motion via Framer) */
.bioYear_tag {
  display: inline-block;
  padding: 10px 18px;
  background: hsl(var(--rulmeca-red));
  color: #fff;
  text-align: center;
  border-radius: 9999px;
  border: none;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
  text-transform: uppercase;
  white-space: nowrap;
  max-width: 220px;
}

@media (min-width: 768px) {
  .bioYear_tag {
    padding: 12px 22px;
    font-size: 0.95rem;
    max-width: 280px;
  }
}

/* Carte : image (ratio 5:4) + texte en bas, toujours en colonne — zoom 3D hover + scroll focus */
.market-reality-card {
  display: flex;
  flex-direction: column;
  gap: 0;
  border-radius: 16px;
  overflow: hidden;
  background: #fff;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06), 0 12px 32px -8px rgba(0, 0, 0, 0.08);
  width: 100%;
  max-width: 420px;
  transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.4s ease;
  transform-style: preserve-3d;
}

/* Zoom in léger + léger effet 3D au survol */
.bioYear_slot:hover .market-reality-card {
  transform: scale(1.03) translateZ(12px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 20px 48px -12px rgba(0, 0, 0, 0.12);
}

.bioYear_slot--left:hover .market-reality-card {
  transform: scale(1.03) translateZ(12px) rotateY(-2deg);
}

.bioYear_slot--right:hover .market-reality-card {
  transform: scale(1.03) translateZ(12px) rotateY(2deg);
}

/* Focus scroll : même zoom doux quand la section est active (en vue) */
.bioYear.activeSection .bioYear_slot--left .market-reality-card {
  transform: scale(1.02) translateZ(8px) rotateY(-1deg);
  box-shadow: 0 6px 28px rgba(0, 0, 0, 0.08), 0 16px 40px -10px rgba(0, 0, 0, 0.1);
}

.bioYear.activeSection .bioYear_slot--right .market-reality-card {
  transform: scale(1.02) translateZ(8px) rotateY(1deg);
  box-shadow: 0 6px 28px rgba(0, 0, 0, 0.08), 0 16px 40px -10px rgba(0, 0, 0, 0.1);
}

/* Hover l'emporte sur le focus scroll si les deux s'appliquent */
.bioYear.activeSection .bioYear_slot--left:hover .market-reality-card {
  transform: scale(1.03) translateZ(12px) rotateY(-2deg);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 20px 48px -12px rgba(0, 0, 0, 0.12);
}

.bioYear.activeSection .bioYear_slot--right:hover .market-reality-card {
  transform: scale(1.03) translateZ(12px) rotateY(2deg);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 20px 48px -12px rgba(0, 0, 0, 0.12);
}

.market-reality-card_media {
  position: relative;
  flex: 0 0 auto;
  width: 100%;
  aspect-ratio: 5 / 4;
}

.market-reality-card_img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.market-reality-card_overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0.15) 0%, rgba(0, 0, 0, 0.35) 100%);
  pointer-events: none;
}

.market-reality-card_texture {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
}

.market-reality-card_tags {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 2;
}

/* Tags sur les cartes : léger transparent (glass) + animation Framer */
.market-reality-tag {
  padding: 6px 12px;
  background: rgba(255, 255, 255, 0.7);
  color: hsl(var(--rulmeca-text));
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.85);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  white-space: nowrap;
}

@media (min-width: 768px) {
  .market-reality-tag {
    font-size: 0.75rem;
    padding: 8px 14px;
  }
}

.market-reality-card_text {
  display: flex;
  flex-direction: column;
  gap: 0;
  flex: 1;
  min-width: 0;
  background: #fff;
}

.market-reality-card_block {
  padding: 0.75rem 1rem;
}

@media (min-width: 768px) {
  .market-reality-card_block {
    padding: 1rem 1.25rem;
  }
}

.market-reality-card_block p {
  margin: 0;
  font-size: 0.8125rem;
  line-height: 1.45;
  color: hsl(var(--rulmeca-text));
}

.market-reality-card_block--context {
  border-bottom: 1px solid hsl(var(--rulmeca-border));
}

.market-reality-card_block--context p {
  color: hsl(var(--rulmeca-muted));
}

.market-reality-card_block--message p {
  font-weight: 500;
  color: hsl(var(--rulmeca-text));
}

.market-reality-card_media::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 40%;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.08), transparent);
  pointer-events: none;
}

.market-reality-title {
  font-family: var(--font-display, 'Orbitron', 'Rajdhani', 'Exo 2', sans-serif);
}

/* ——— Bloc ambition : grille gauche BTA + logos | centre process | droite keypad ——— */
.market-reality-ambition {
  position: relative;
  min-height: 80vh;
  border-top: 1px solid hsl(var(--rulmeca-border));
  background: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  padding: 2rem 1rem;
  overflow: visible;
}

.market-reality-ambition::before {
  --size: 45px;
  --line: color-mix(in hsl, hsl(var(--rulmeca-text)), transparent 88%);
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(90deg, var(--line) 1px, transparent 1px var(--size)) calc(var(--size) * 0.36) 50% / var(--size) var(--size),
    linear-gradient(var(--line) 1px, transparent 1px var(--size)) 0% calc(var(--size) * 0.32) / var(--size) var(--size);
  pointer-events: none;
  z-index: 0;
}

/* Image poignée de main après la grille, pleine largeur (full bleed) */
.market-reality-ambition_handshake {
  position: relative;
  z-index: 1;
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  overflow: hidden;
}

.market-reality-ambition_handshake-img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
  object-position: center;
}

.market-reality-ambition_message {
  position: relative;
  z-index: 1;
  max-width: 900px;
  margin: 0 auto;
}

/* Grille 2 colonnes : gauche BTA | centre process circulaire */
.market-reality-ambition_grid {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  justify-items: center;
  gap: 1.5rem 2rem;
  width: 100%;
  max-width: 1000px;
  margin: 0 auto;
}

@media (max-width: 768px) {
  .market-reality-ambition_grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  .market-reality-ambition_center { order: 1; }
  .market-reality-ambition_left { order: 2; }
}

/* Colonne gauche : BTA + logos */
.market-reality-ambition_left {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.25rem;
  justify-self: end;
  max-width: 320px;
}

@media (max-width: 900px) {
  .market-reality-ambition_left { justify-self: center; max-width: 100%; }
}

.market-reality-ambition_bta {
  background: #fff;
  border-radius: 12px;
  padding: 1.25rem 1.5rem;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
  border: 1px solid hsl(var(--rulmeca-border));
}

.market-reality-ambition_bta-logo {
  font-weight: 800;
  font-size: 1.1rem;
  letter-spacing: 0.05em;
  margin-bottom: 0.5rem;
}

/* BTA Services : bleu / rouge France */
.bta-logo_blue { color: #002395; }
.bta-logo_red { color: #ED2939; }

.market-reality-ambition_bta-title {
  font-size: 1rem;
  color: hsl(var(--rulmeca-text));
  margin: 0 0 0.5rem 0;
  line-height: 1.3;
}

.market-reality-ambition_bta-text {
  font-size: 0.8125rem;
  line-height: 1.45;
  color: hsl(var(--rulmeca-muted));
  margin: 0;
}

/* Logos retirés de la colonne gauche (désormais au centre du rond) */

.ambition-logo {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.4rem 0.75rem;
  background: #fff;
  border-radius: 8px;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  border: 1px solid hsl(var(--rulmeca-border));
}

.ambition-logo img {
  width: 20px;
  height: 20px;
  object-fit: contain;
}

.ambition-logo--rulmeca { color: hsl(var(--rulmeca-red)); }
.ambition-logo--abilis { color: hsl(var(--rulmeca-text)); }
.ambition-logo--bta { color: #002395; }

/* Colonne centre : timeline verticale (style SectionIndicator) */
.market-reality-ambition_center {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0.75rem;
  width: 100%;
  max-width: 400px;
}

.market-reality-ambition_process-title {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: hsl(var(--rulmeca-muted));
  margin: 0;
}

/* Timeline verticale : rail gauche (comme section-indicator) + cartes */
.market-reality-process-timeline {
  list-style: none;
  margin: 0;
  padding: 0 0 0 1.25rem;
  border-left: 2px solid hsl(var(--rulmeca-red) / 0.2);
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.market-reality-process-timeline_item {
  position: relative;
}

/* Carte par étape (style SectionIndicator : fond blanc, bordure, ombre, compact) */
.market-reality-process-card {
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid rgba(0, 0, 0, 0.06);
  font-family: "DM Sans", system-ui, sans-serif;
}

/* Trait d'accent à gauche (comme section-indicator item actif) */
.market-reality-process-card::before {
  content: "";
  position: absolute;
  left: -1.25rem;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 1.25rem;
  background: hsl(var(--rulmeca-red));
  border-radius: 2px;
  margin-left: -1px;
}

.market-reality-process-card_num {
  position: absolute;
  top: 0.75rem;
  right: 1rem;
  font-variant-numeric: tabular-nums;
  font-size: 0.75rem;
  font-weight: 700;
  color: hsl(var(--rulmeca-red));
  line-height: 1;
}

.market-reality-process-card_logos {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.35rem;
}

/* Logo compact (pill / petit bloc) */
.process-logo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.2rem;
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
  font-size: 0.65rem;
  font-weight: 700;
  letter-spacing: 0.03em;
  background: hsl(var(--rulmeca-panel));
  border: 1px solid hsl(var(--rulmeca-border));
  white-space: nowrap;
}

.process-logo img {
  width: 18px;
  height: 18px;
  object-fit: contain;
}

.process-logo--rulmeca {
  color: hsl(var(--rulmeca-red));
}

.process-logo--abilis {
  color: hsl(var(--rulmeca-text));
}

.process-logo--bta .bta-logo_blue { color: #002395; }
.process-logo--bta .bta-logo_red { color: #ED2939; }

.process-logo--central-europe {
  color: hsl(var(--rulmeca-text));
  font-size: 0.85em;
}

.market-reality-process-card_label {
  margin: 0;
  font-size: 0.8rem;
  line-height: 1.35;
  color: hsl(var(--rulmeca-text));
  font-weight: 600;
  padding-right: 2rem;
}

.market-reality-intro .section-badge {
  color: hsl(var(--rulmeca-muted));
}

/* Section intro — 80vh avec animation texte */
.market-reality-intro {
  position: relative;
  min-height: 80vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding-top: 4rem;
  padding-bottom: 4rem;
}

@media (min-width: 768px) {
  .market-reality-intro {
    padding-top: 5rem;
    padding-bottom: 5rem;
  }
}

/* Tags secteurs (gris) sous le titre */
.market-reality-intro_tags {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.75rem;
}

.market-reality-intro_tag {
  display: inline-block;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  font-weight: 600;
  letter-spacing: 0.03em;
  color: hsl(var(--rulmeca-muted));
  background: hsl(var(--rulmeca-panel));
  border: 1px solid hsl(var(--rulmeca-border));
  border-radius: 9999px;
  white-space: nowrap;
}

@media (min-width: 768px) {
  .market-reality-intro_tag {
    padding: 0.6rem 1.25rem;
    font-size: 0.9375rem;
  }
}

/* Bulle rouge avec chiffre (1, 2, 3) centrée */
.section-number-bubble {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 3rem;
  height: 3rem;
  border-radius: 50%;
  background: hsl(var(--rulmeca-red));
  color: #fff;
  font-weight: 800;
  font-size: 1.25rem;
  line-height: 1;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
  flex-shrink: 0;
}

@media (min-width: 768px) {
  .section-number-bubble {
    width: 3.5rem;
    height: 3.5rem;
    font-size: 1.5rem;
  }
}

.market-reality-intro_bubble-wrap {
  display: flex;
  justify-content: center;
  margin-bottom: 1.25rem;
}

.market-reality-ambition_bubble-wrap {
  display: flex;
  justify-content: center;
  margin-bottom: 0.5rem;
}

/* Section Moyens humains et logistiques (même style que intro) */
.market-reality-moyens {
  position: relative;
  min-height: 38vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4rem 1rem;
  border-top: 1px solid hsl(var(--rulmeca-border));
}

.market-reality-moyens_bubble-wrap {
  display: flex;
  justify-content: center;
  margin-bottom: 1.25rem;
}

/* ——— Galerie 3 MOYENS (hero_codepen_idea) — fond blanc ——— */
.market-reality-gallery-wrap {
  background: #fff;
  padding: 2rem 1rem 4rem;
  display: flex;
  justify-content: center;
  align-items: center;
}

.market-reality-gallery-wrap .market-reality-gallery.container {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1em;
  width: 100%;
  max-width: 800px;
  height: 500px;
  transition: all 400ms;
}

.market-reality-gallery-wrap .market-reality-gallery.container:hover .market-reality-gallery-box.box {
  filter: grayscale(100%) opacity(24%);
}

.market-reality-gallery-wrap .market-reality-gallery-box.box {
  position: relative;
  background: var(--img) center center;
  background-size: cover;
  transition: all 400ms;
  display: flex;
  justify-content: center;
  align-items: center;
}

.market-reality-gallery-wrap .market-reality-gallery.container .market-reality-gallery-box.box:hover {
  filter: grayscale(0%) opacity(100%);
}

.market-reality-gallery-wrap .market-reality-gallery.container:has(.box-1:hover) {
  grid-template-columns: 3.4fr 0.8fr 0.8fr;
}

.market-reality-gallery-wrap .market-reality-gallery.container:has(.box-2:hover) {
  grid-template-columns: 0.8fr 3.4fr 0.8fr;
}

.market-reality-gallery-wrap .market-reality-gallery.container:has(.box-3:hover) {
  grid-template-columns: 0.8fr 0.8fr 3.4fr;
}

.market-reality-gallery-wrap .market-reality-gallery-box.box:nth-child(odd) {
  transform: translateY(-16px);
}

.market-reality-gallery-wrap .market-reality-gallery-box.box:nth-child(even) {
  transform: translateY(16px);
}

.market-reality-gallery-wrap .market-reality-gallery-box.box::after {
  content: attr(data-text);
  position: absolute;
  bottom: 20px;
  background: #000;
  color: #fff;
  padding: 10px 10px 10px 14px;
  letter-spacing: 4px;
  text-transform: uppercase;
  transform: translateY(60px);
  opacity: 0;
  transition: all 400ms;
}

.market-reality-gallery-wrap .market-reality-gallery-box.box:hover::after {
  transform: translateY(0);
  opacity: 1;
  transition-delay: 400ms;
}

/* ——— Section Portefeuille clients : objet hero-codepen-card entier (tel quel) + bloc 4 ——— */
.market-reality-portefeuille-wrap {
  position: relative;
  background: #fff;
  border-top: 1px solid hsl(var(--rulmeca-border));
  overflow: hidden;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding-bottom: 0;
}

/* Réutilise hero-codepen-card.css — wrapper : hauteur au contenu uniquement, pas d’étirement vertical */
/* Wrapper pleine largeur de la section (break-out du px-4 du parent), orbes centrées inchangées */
.market-reality-portefeuille-wrap .market-reality-hero-card-wrap {
  position: relative;
  width: 100%;
  margin-left: 0;
  margin-right: 0;
  min-height: 0;
  height: fit-content;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0.5rem 0 0;
  margin-top: 0.75rem;
  flex-shrink: 0;
  box-sizing: border-box;
}

/* Card en position relative dans le flux (pas absolute bottom comme dans le hero) */
.market-reality-portefeuille-wrap .market-reality-hero-card-wrap .hero-codepen-card {
  position: relative;
  bottom: auto;
  left: auto;
  right: auto;
  align-items: center;
}


/* Section 4 Portefeuille — pleine hauteur (100vh), pleine largeur, polices lisibles */
.market-reality-portefeuille-wrap .market-reality-portefeuille {
  border-top: none;
  min-height: 100vh;
  width: 100%;
  max-width: 100%;
  padding: 2rem 2rem 0.5rem;
  justify-content: flex-start;
  flex: 1;
}
.market-reality-portefeuille-wrap .market-reality-title {
  font-size: clamp(1.75rem, 4vw, 2.75rem);
}
.market-reality-portefeuille-wrap .market-reality-moyens.market-reality-portefeuille p {
  font-size: clamp(1rem, 2vw, 1.25rem);
}
.market-reality-portefeuille-wrap .market-reality-portefeuille .mx-auto.max-w-\[900px\] {
  max-width: min(1100px, 92vw);
}
/* Container carte plus grand */
.market-reality-portefeuille-wrap .market-reality-hero-card-wrap .hero-codepen-card .container {
  --sz: clamp(400px, 52vw, 620px);
}
/* Entonnoir (vortex) visible sur fond blanc */
.market-reality-portefeuille-wrap .container .vortex svg {
  opacity: 0.9;
}
.market-reality-portefeuille-wrap .container .orbs {
  z-index: 2;
}
.market-reality-portefeuille-wrap .container .orbs .hide-orb {
  background: linear-gradient(to bottom, rgba(255,255,255,0.12) 0%, transparent 40%);
}
.market-reality-portefeuille-wrap .market-reality-logos-slider {
  max-width: min(1100px, 92vw);
}

/* ——— Slider horizontal de logos clients (après typologies) ——— */
@keyframes market-reality-logos-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(calc(-180px * 6)); }
}

.market-reality-logos-slider {
  background: #fff;
  box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.08);
  height: 80px;
  margin: 1.5rem auto 0;
  overflow: hidden;
  position: relative;
  width: 100%;
  max-width: min(960px, calc(100vw - 2rem));
  border-radius: 8px;
  border: 1px solid hsl(var(--rulmeca-border));
}

.market-reality-logos-slider::before,
.market-reality-logos-slider::after {
  content: "";
  position: absolute;
  top: 0;
  height: 80px;
  width: 120px;
  z-index: 2;
  pointer-events: none;
  background: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%);
}

.market-reality-logos-slider::after {
  right: 0;
  left: auto;
  transform: rotateZ(180deg);
}

.market-reality-logos-slider::before {
  left: 0;
}

.market-reality-logos-slider_track {
  animation: market-reality-logos-scroll 35s linear infinite;
  display: flex;
  align-items: center;
  width: calc(180px * 12);
  height: 100%;
}

.market-reality-logos-slider_slide {
  height: 80px;
  width: 180px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 12px;
  box-sizing: border-box;
}

.market-reality-logos-slider_slide img {
  max-height: 56px;
  max-width: 140px;
  width: auto;
  height: auto;
  object-fit: contain;
}

/* ——— Typology Kanban : prospections clients & villes — plein espace horizontal et vertical ——— */
.typology-wrap {
  padding: 2rem 1rem 3rem;
  font-family: "Inconsolata", monospace, sans-serif;
  box-sizing: border-box;
  min-height: 75vh;
  width: 100%;
  display: flex;
  flex-direction: column;
}

.typology-wrap * {
  box-sizing: border-box;
}

.typology-screen {
  width: 100%;
  max-width: none;
  min-height: 70vh;
  flex: 1;
  display: flex;
  flex-direction: column;
  margin: 0 auto;
  background: #fff;
  box-shadow: 0 0 18px rgba(0, 0, 0, 0.08);
  padding: 20px 24px 28px;
  border-radius: 8px;
  border: 1px solid #bdc3c7;
}

.typology-header.center,
.typology-content.center {
  display: flex;
  justify-content: center;
  align-items: center;
}

.typology-header {
  min-height: 52px;
  justify-content: space-between;
  margin-bottom: 8px;
}

.typology-meta {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.typology-projectLabel.grey {
  color: #95a5a6;
  letter-spacing: 2px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
}

.typology-projectValue {
  height: 28px;
  background: #ecf0f1;
  border-radius: 5px;
  padding: 0 10px;
  color: #7f8c8d;
  font-weight: 700;
  font-size: 12px;
  letter-spacing: 1px;
  display: inline-flex;
  align-items: center;
  width: 100%;
  max-width: 420px;
}

.typology-content {
  display: flex;
  justify-content: flex-start;
  align-items: stretch;
  gap: 12px;
  min-height: 50vh;
  flex: 1;
  width: 100%;
  padding-top: 8px;
  overflow-x: auto;
  overflow-y: auto;
  scrollbar-width: thin;
}

.typology-phase {
  flex: 0 0 auto;
  width: 260px;
  min-height: 100%;
  display: flex;
  flex-direction: column;
  border-radius: 6px;
  background: #f5f6fa;
  border: 1px solid #e0e0e0;
}

.typology-phaseHeader.center {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.typology-phaseHeader {
  min-height: 36px;
  padding: 0 10px;
  background: #ecf0f1;
  color: #7f8c8d;
  border-radius: 6px 6px 0 0;
  margin-bottom: 0;
}

.typology-phaseTitle {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: hsl(var(--rulmeca-red));
}

.typology-phaseCount {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: hsl(var(--rulmeca-red));
  color: #fff;
  font-size: 11px;
  font-weight: 700;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.typology-phaseContent {
  flex: 1;
  min-height: 320px;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 8px 6px 12px;
  scrollbar-width: thin;
  perspective: 1200px;
}

.typology-phaseContent::-webkit-scrollbar {
  width: 4px;
}

.typology-phaseContent::-webkit-scrollbar-thumb {
  background: #bdc3c7;
  border-radius: 4px;
}

/* Cartes typologie : même style que market-reality-card (timeline) + hover scale/ombre */
.typology-task {
  background: #fff;
  width: 100%;
  min-height: 140px;
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  margin: 0 auto 12px;
  border-radius: 16px;
  border: 1px solid hsl(var(--rulmeca-border));
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06), 0 12px 32px -8px rgba(0, 0, 0, 0.08);
  transition: transform 0.35s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.35s ease, border-color 0.25s ease;
  transform-style: preserve-3d;
  cursor: default;
}

.typology-task:hover {
  border-color: hsl(var(--rulmeca-red) / 0.25);
}

.typology-task:last-child {
  margin-bottom: 0;
}

.typology-taskCategory {
  padding: 2px 8px;
  font-weight: 700;
  letter-spacing: 2px;
  font-size: 10px;
  color: #e67e22;
  text-transform: uppercase;
}

.typology-taskHeader.center {
  display: flex;
  align-items: center;
  gap: 8px;
}

.typology-taskHeader {
  padding: 4px 0;
  min-height: 44px;
}

.typology-char {
  height: 28px;
  width: 28px;
  font-weight: 700;
  color: #fff;
  background: #000;
  margin-right: 4px;
  border-radius: 50%;
  font-size: 12px;
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.typology-taskLogo {
  flex-shrink: 0;
  height: 36px;
  width: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff;
  border-radius: 4px;
  border: 1px solid #e0e0e0;
  overflow: hidden;
}

.typology-taskLogo img {
  max-height: 28px;
  max-width: 56px;
  object-fit: contain;
}

.typology-taskTitle {
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.5px;
  color: #2c3e50;
  margin: 0;
  line-height: 1.3;
  flex: 1;
  min-width: 0;
}

.typology-taskMeta.grey {
  padding: 2px 0;
  letter-spacing: 1px;
  font-size: 10px;
  color: #95a5a6;
}

.typology-taskDescription {
  padding: 4px 0;
  font-size: 10px;
  letter-spacing: 0.5px;
  font-weight: 700;
  color: #7f8c8d;
  line-height: 1.35;
}

.typology-taskInfo.center {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0 0;
  border-top: 1px solid #ecf0f1;
}

.typology-infoTab {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.typology-infoTab .typology-infoTabHeader.grey {
  font-weight: 700;
  font-size: 9px;
  letter-spacing: 1px;
  color: #95a5a6;
  text-transform: uppercase;
}

.typology-badge {
  font-weight: 700;
  font-size: 9px;
  letter-spacing: 1px;
  color: #fff;
  padding: 3px 6px;
  border-radius: 3px;
  text-transform: uppercase;
  display: inline-block;
  width: fit-content;
}

.typology-badge--new {
  background-color: #3498db;
}

.typology-badge--inProgress {
  background-color: #ffb142;
  color: #1a1a1a;
}

.typology-badge--done {
  background-color: #78e08f;
  color: #1a1a1a;
}

@media (min-width: 768px) {
  .typology-screen {
    padding: 20px 24px 28px;
  }

  .typology-phase {
    width: 280px;
  }

  .typology-content {
    gap: 16px;
  }
}
